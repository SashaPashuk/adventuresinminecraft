import{languageLocalizations}from"../contants/languageLocalizations.js";const defaultLocale=localStorage.getItem("language")||"ru";let locale,translations={};function bindLocaleSwitcher(a){var e=document.querySelector("[data-i18n-switcher]");e.value=a,e.onchange=a=>{setLocale(a.target.value),localStorage.setItem("language",a.target.value)}}async function setLocale(a){var e;a!==locale&&(e=await fetchTranslationsFor(a),locale=a,translations=e,translatePage())}document.addEventListener("DOMContentLoaded",()=>{setLocale(defaultLocale),bindLocaleSwitcher(defaultLocale)});const fetchTranslationsFor=a=>languageLocalizations[a];function translatePage(){document.querySelectorAll("[data-i18n-key]").forEach(translateElement)}function translateElement(a){var e=a.getAttribute("data-i18n-key"),e=translations[e];a.innerText=e}